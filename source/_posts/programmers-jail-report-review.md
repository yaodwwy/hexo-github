---
title: 程序员入狱事件复盘报告
date: 2020-04-26 07:44:23
tags:
---

人无德不立，德才兼备，方堪大任。
大家好，我是Adam 本期话题是盘点程序员入狱事件。
对于这几件事儿，圈外人可能感觉没有那么强烈。
对于我们来说，尤其是运维，那都是血淋淋的例子。
比科目一考试前的交通事故现场还要让人心惊肉跳。
好吧，闲话少絮，直接进入正题吧。
我尽量按时间线来完整描述故事的发展情节，
从上帝视角看运维程序员是怎么把自己一步一步送进监狱的。

##### 互联网黑色五月

2015年5月发生了有史以来最密集的网络宕机瘫痪事件。
陌陌、网易、支付宝、携程网、艺龙网、招商证券、
同花顺、齐鲁证券接连故障之后，
2015年的5月被不少圈内人士揶揄为"黑色五月"。

5月11日

    晚上9点网易旗下游戏、新闻、云笔记、LOFTER、考拉海购、网易公开课等无法正常访问，
    事后，网易发表官方声明称：骨干网络遭受攻击。

5月27日下午

    支付宝大面积瘫痪，电脑端和移动端均无法进行转账付款，缘由是杭州市萧山区某地光缆被挖断
    
5月28日上午

    11点携程由于员工错误操作，导致官方网站及App无法正常使用。

那几天可谓是互联网巨头玩起了萝卜蹲：
网易蹲，网易蹲，网易蹲完支付宝蹲，支付宝蹲，支付宝蹲，支付宝蹲完携程蹲，携程蹲，携程蹲……

其中，携程网恢复时间最长，损失也最大，
在有限的数据资料上，携程网并没有透露更多的技术细节
所有技术人员全部扑上去，心想分分搞定
可谁知数据明显在恢复备份，怎么越恢复越少了！
回过头才发现并没有阻断删除的进程！
此时时间已过去了3个小时，404页面已经被刷了无数次
360、猎豹、腾讯的安全专家纷纷喊话支招
有的说：是高级管理员出内鬼了。
有的说：黑客拿数据一般用复制，不用剪切。
还有的说：你携程是不是忘了修改配置文件了？
正值五月，还没有入夏，携程打开了空调给运维送冷气……

上海市民陈小姐28日下午本来想上携程网预订下个月旅游的酒店，
发现携程页面无法登录，还看到滚动提示称：
“携程网站正在修复中，可以去艺龙预订服务。”
携程和艺龙秀起了恩爱，前脚才入股成为艺龙的大股东，后脚就给他导流量。
艺龙ceo崔广福当时就懵了，因为流量太大，来不急处理，很快也宕机了。
一生气，报案！没错，报案了。
360安全专家当时就乐了：小艺龙肯定接不住你大哥的流量啊。 
阿里旅行的“去啊”官方微博当下补刀：来我这儿吧，我能接住！
8小时后携程APP能下单了，就是还不太稳定，
有可能下一单，出二单，甚至出四单的重复订单。
终于 快到晚上11点的时候，一切都恢复正常了。

携程方面称，安全漏洞是由于技术开发人员为排查系统疑问而留下临时日志，
因一时疏忽而未及时删除，给了黑客可乘之机，从而导致了携程系统瘫痪。
5月29日，携程发布官方情况说明称，此次事件是由于员工错误操作，
删除了生产服务器上的执行代码导致，现已恢复，未造成客户信息泄露。
可以看出，携程自己都是懵逼着的，
只知道数据没了，服务断了，是不是黑客所为则不得而知。
后续并没有看到案情的正面发展，想必也不了了之了。
还流传一个事故原因版本是这样解释的
携程网被“乌云”曝光了一个安全漏洞，
漏洞涉及到了大部分应用服务器和数据库服务器
运维人员批量操作执行修复漏洞的脚本时，无差别的把所有系统文件删除了
可是为什么恢复这么慢呢？实际上大型网站，看似简单的一个页面。
背后由成百上千个应用子系统组成，
每个子系统又包括若干台应用和数据库服务器。
任何一处的事故都可能造成雪崩效应。
数据安全问题可能会拖垮一家互联网企业绝不是危言耸听。
而携程作为美股上市公司市值直接缩水1200万美元。
互联网行业律师认为，如果本次事故是内部人员所为，
说明携程网内部存在管理问题，没有尽到安全管理责任，
应承担相应的民事责任，赔偿用户损失。
如果本次事故是外部攻击造成，携程没有尽到安全保障义务，赔偿用户损失。
这大概就是不再向外公告更多细节，不了了之的原因吧。

##### 百度服务器挖矿事件

2017年的小安来到百度就职运维工程师。
就在一年后，被百度成功的送进了监狱。
原来，这个小安工作一直比较清闲。
运维嘛，平时995，战时007。
尤其是百度这样的公司，毕竟业务已经非常稳定，
自然也能抽出时间做点小程序、小工具。
2018年4月 百度高级运维工程师安某发现了一个生财有道的好机会。
因为那一年比特币疯狂涨到了10万人民币一枚
这让很多没有投资比特币的网友痛悔不已，
错失了一夜暴富的机会。 投资比特币除了拿钱去买之外，
还有一个办法就是挖矿，利用矿机进行大量运算获得比特币奖励。
挖矿需要买矿机，也就是服务器，难度也大，大量耗费电力。
如果现在靠自己购买服务器来挖矿，简直就是天方夜谭，
投入已经大于产出，主要是电费用不起。
所以，那两年出现很多黑客入侵事件，渗透进服务器后，
什么也不干，就是放一个小程序，远程挖矿。
但是这种方法很快就会被发现，因为挖矿对CPU和GPU的资源占用非常高。
话说回小安，我买不起矿机，但是我有服务器呀！
悄悄的放个小程序，资源限制一下，神不知鬼不觉。
说干就干，他做了一个java_4u3的小脚本作为服务端，
用自己工作的账号把脚本上传到了中控服务器。
然后利用电脑客户端远程控制中控服务器，
把挖矿程序自动下载到了所有服务器上。





为此，百度还花费 2.7 万元请北京耐特网科技公司提供了应急服务，具体项目包括样本提取、样本分析、服务器日志提取并分析、追踪溯源、报告编写等。


这个锁定模式级别最高，并发度最小，但只允许查询





本次故障及事件简要回顾
2020年2月23日，18:56分，微盟研发中心运维部核心运维人员通过VPN登入服务器，并对线上生产环境进行了恶意破坏；
2月23日 19 时，微盟内部系统监控报警，出现大面积服务集群无法响应；
2月25日7 时，生产环境和数据部分恢复，预计25日晚24点完成生产环境修复，新用户恢复业务。老用户预计到2月28日晚上才能恢复。
微盟事后对恶意破坏生产环境的嫌疑人进行追踪分析，成功定位到嫌疑人登录账号及IP地址，并于24日向宝山公安局报案。目前犯罪嫌疑人已被宝山区公安局刑事拘留，承认了犯罪事实。
